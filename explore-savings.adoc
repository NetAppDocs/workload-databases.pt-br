---
sidebar: sidebar 
permalink: explore-savings.html 
keywords: cost, savings, compare costs, EBS, FSx for Windows File Server, SQL Server on-premises, on-premises, FSx for ONTAP 
summary: 'Compare os custos de usar o Amazon Elastic Block Store (EBS), o FSX for Windows File Server e o armazenamento de banco de dados local do SQL Server com o FSX for ONTAP.' 
---
= Explore as economias no NetApp Workload Factory para bancos de dados
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
Explore as economias no NetApp Workload Factory for Databases para suas cargas de trabalho de banco de dados comparando os custos de uso do Microsoft SQL Server no Amazon Elastic Block Store (EBS), FSx para Windows File Server e armazenamento local com o FSx para armazenamento ONTAP .



== Sobre esta tarefa

O Workload Factory tem várias maneiras de você explorar economias para suas cargas de trabalho de banco de dados em execução no Amazon Elastic Block Store (EBS), FSx para Windows File Server e armazenamento local - no Painel, na guia Inventário e na guia Explorar economias.  Em todos os casos, você pode usar a calculadora de economia para comparar vários componentes de custo de execução de cargas de trabalho do Microsoft SQL Server, como armazenamento, computação, licença SQL, instantâneos e clones para suas cargas de trabalho de banco de dados no FSx para sistemas de arquivos ONTAP em relação ao Elastic Block Store (EBS), FSx para Windows File Server e armazenamento local.

Se o Workload Factory determinar que você pode economizar dinheiro executando essas cargas de trabalho em um sistema de arquivos FSx para ONTAP , você pode implantar o Microsoft SQL sobre o FSx para ONTAP diretamente da calculadora de economia no console do Workload Factory.  Quando você tem várias instâncias do Microsoft SQL Server no Elastic Block Store, FSx para Windows File Server ou armazenamento local, recomendamos uma configuração do FSx para ONTAP com uma única instância do SQL.

.Economias potenciais para todos os workloads de banco de dados
Acesse o *Painel* de Bancos de Dados no console do Workload Factory para obter uma visão geral das potenciais economias de custos ao executar todas as suas cargas de trabalho de banco de dados no FSx para ONTAP.  No bloco *Potencial de economia*, você pode visualizar o número de todas as cargas de trabalho de banco de dados que você tem no Elastic Block Store e no FSx for Windows File Server, a potencial economia de custos, a porcentagem de economia e a representação visual no gráfico de barras.

image:screenshot-dashboard-potential-savings-tile.png["Uma captura de tela do bloco de economia potencial do painel de bancos de dados no console do Workload Factory.  O bloco de economia potencial mostra o número de todas as cargas de trabalho de banco de dados que você tem no Elastic Block Store e no FSx para Windows File Server, a economia potencial de custos, a porcentagem de economia e a representação visual no gráfico de barras."]

.Calculadora de poupança
Você pode utilizar a calculadora de economia para comparar vários componentes de custo da execução de cargas de trabalho do Microsoft SQL Server, como armazenamento, computação, licença SQL, snapshots e clones para suas cargas de trabalho de banco de dados nos sistemas de arquivos FSX for ONTAP com Elastic Block Store (EBS), FSX for Windows File Server e armazenamento local. Dependendo de seus requisitos de armazenamento, você pode descobrir que os sistemas de arquivos do FSX for ONTAP são os mais econômicos para suas cargas de trabalho de banco de dados.

A calculadora mostra se o armazenamento para as cargas de trabalho de banco de dados nesses servidores SQL da Microsoft custaria menos se você usou um sistema de arquivos FSX for ONTAP. <<Opções de calculadora,Saiba como usar a calculadora.>>

image:screenshot-ebs-savings-calculator-update.png["Uma captura de tela da página da calculadora de economia mostra a configuração selecionada do Microsoft SQL Server no Amazon Elastic Block Store à esquerda com a opção de personalizar os valores de snapshot e clone. Economia de custos em valor em dólares e economia percentual, bem como o custo mensal total para usar o Microsoft SQL Server no FSX for ONTAP e a exibição de armazenamento Elastic Block Store à esquerda."]



== Análise de implantação do SQL Server

A calculadora executa uma análise abrangente da implantação do SQL Server para garantir que os recursos e recursos que estão sendo utilizados sejam adequadamente compatíveis com a edição do SQL Server. Aqui estão os principais fatores e condições que a calculadora verifica antes de recomendar um downgrade para Standard Edition:

.Modelo de implantação
A calculadora avalia o modelo de implantação e se a edição Enterprise é necessária.

.Recursos alocados
A calculadora avalia as condições dos seguintes recursos alocados dependentes da licença:

* VCPUs da instância alvo: a instância possui 48 ou menos CPUs virtuais.
* Alocação de memória: a instância possui 128GB ou menos de memória.


.Uso de recursos empresariais
A calculadora verifica se algum dos seguintes recursos da empresa está em uso:

* Recursos empresariais em nível de banco de dados
* Operações de índice online
* Resource Governor
* Replicação ponto a ponto ou Oracle
* Extensões R/Python
* TempDB otimizado para memória


Se a instância avaliada do SQL Server não utilizar nenhum dos recursos da Enterprise acima e atender às restrições de recursos, a calculadora recomendará o downgrade da licença para Standard Edition. Esta recomendação é feita para ajudá-lo a otimizar seus custos de licenciamento do SQL Server sem comprometer o desempenho ou a funcionalidade.



== Opções de calculadora

Duas opções de calculadora estão disponíveis para fazer a comparação de custo entre seus sistemas e o FSX for ONTAP - personalização e deteção.

Explore as economias através da personalização: Você fornece as configurações para o servidor Microsoft SQL no Amazon EC2 com EBS ou FSX para Windows File Server, incluindo a região, modelo de implantação, edição do servidor SQL, taxa de alteração de dados mensal, frequência de snapshot e muito mais.

Descubra as economias para hosts detectados: o Workload Factory se conecta aos seus servidores Microsoft SQL existentes e importa os detalhes para a calculadora para comparação automática. Você precisará conceder permissões de _visualização, planejamento e análise_ para usar esta opção da calculadora. Você pode alterar o caso de uso, mas todos os outros detalhes são determinados automaticamente no cálculo.

Além disso, você pode link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["Adicionar credenciais da AWS"^]melhorar a precisão da análise da calculadora. Selecione *Calcule a poupança com base nos recursos existentes*. Você será redirecionado para a página Adicionar credenciais. Depois de adicionar credenciais, selecione os recursos existentes para comparar com o FSX for ONTAP e selecione *explorar economia*.



=== Explore as poupanças através da personalização

Siga as etapas na guia para o tipo de armazenamento.

[role="tabbed-block"]
====
.Amazon Elastic Block Store (EBS)
--
.Passos
. Inicie sessão utilizando uma das link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiências de console"^].
. Selecione o menu image:workloads-menu-icon.png["O ícone do menu hambúrguer é usado para navegar até cargas de trabalho como armazenamento, EDA, IA, bancos de dados, VMware e administração."] Em seguida, selecione *Bancos de dados*.
. Em bancos de dados, selecione *Explore savings* e depois *Microsoft SQL Server no EBS*.
. Na calculadora de economia, forneça os seguintes detalhes:
+
.. *Região*: Selecione uma região no menu suspenso.
.. *Modelo de implantação*: Selecione um modelo de implantação no menu suspenso.
.. *SQL Server Edition*: Selecione a edição do SQL Server no menu suspenso.
.. *Taxa de alteração de dados mensais (%)*: Insira a porcentagem que o clone e os dados instantâneos mudam em média por mês.
.. *Frequência de instantâneos*: Selecione uma frequência de instantâneos no menu suspenso.
.. *Número de cópias clonadas*: Insira o número de cópias clonadas na configuração do EBS.
.. *Custo mensal de BYOL do SQL: Opcionalmente, insira o custo mensal de BYOL do SQL em dólares.
.. Sob as especificações do EC2, forneça o seguinte:
+
*** *Descrição da máquina*: Opcionalmente, insira um nome para descrever a máquina.
*** *Tipo de instância*: Selecione o tipo de instância EC2 no menu suspenso.


.. Em tipos de volume, forneça os seguintes detalhes para pelo menos um tipo de volume. IOPS e taxa de transferência se aplicam a determinados volumes de tipo de disco.
+
*** *Número de volumes*
*** *Valor de armazenamento por volume (GiB)*
*** *IOPS provisionados por volume*
*** * Taxa de transferência MB/s*


.. Se você selecionou o modelo de implantação de disponibilidade sempre ativa, forneça detalhes para *Especificações secundárias do EC2* e *tipos de volume*.




--
.Amazon FSX para Windows File Server
--
.Passos
. Inicie sessão utilizando uma das link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiências de console"^].
. Selecione o menu image:workloads-menu-icon.png["O ícone do menu hambúrguer é usado para navegar até cargas de trabalho como armazenamento, EDA, IA, bancos de dados, VMware e administração."] Em seguida, selecione *Bancos de dados*.
. Em bancos de dados, selecione *Explore poupança* e depois *Microsoft SQL Server no FSX para Windows*.
. Na calculadora de economia, forneça os seguintes detalhes:
+
.. *Região*: Selecione uma região no menu suspenso.
.. *Modelo de implantação*: Selecione um modelo de implantação no menu suspenso.
.. *SQL Server Edition*: Selecione a edição do SQL Server no menu suspenso.
.. *Taxa de alteração de dados mensais (%)*: Insira a porcentagem que o clone e os dados instantâneos mudam em média por mês.
.. *Frequência de instantâneos*: Selecione uma frequência de instantâneos no menu suspenso.
.. *Número de cópias clonadas*: Insira o número de cópias clonadas na configuração do EBS.
.. *Custo mensal de BYOL do SQL: Opcionalmente, insira o custo mensal de BYOL do SQL em dólares.
.. Em configurações do FSX for Windows File Server, forneça o seguinte:
+
*** *Tipo de implantação*: Selecione o tipo de implantação no menu suspenso.
*** *Tipo de armazenamento*: O armazenamento SSD é o tipo de armazenamento suportado.
*** *Capacidade total de armazenamento*: Insira a capacidade de armazenamento e selecione a unidade de capacidade para a configuração.
*** *IOPS SSD provisionado*: Insira o IOPS SSD provisionado para a configuração.
*** *Taxa de transferência (MB/s)*: Insira a taxa de transferência em MB/s.


.. Em especificações do EC2, selecione o *tipo de instância* no menu suspenso.




--
====
Depois de fornecer detalhes sobre a configuração do host do banco de dados, revise os cálculos e recomendações fornecidos na página.

Além disso, role para baixo até a parte inferior da página para exibir o relatório selecionando uma das seguintes opções:

* * Exportar PDF*
* *Enviar por e-mail*
* *Veja os cálculos*


Para mudar para o FSX for ONTAP, siga as instruções <<Implante o Microsoft SQL Server no AWS EC2 usando o FSX for ONTAP,Implante o Microsoft SQL Server no AQS EC2 usando o FSX para sistemas de arquivos ONTAP>>para .



=== Explore a economia dos hosts detetados

O Workload Factory insere as características detectadas do host Elastic Block Store e FSx for Windows File Server para que você possa explorar as economias automaticamente.

.Antes de começar
Complete os seguintes pré-requisitos antes de começar:

* link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["Conceder permissões de _visualização, planejamento e análise_"^] Em sua conta da AWS, configure a detecção do Elastic Block Store (EBS) e do FSx para sistemas Windows na guia *Explorar economias* e a exibição do cálculo de economia na calculadora de economia.
* Para obter recomendações de tipo de instância e melhorar a precisão de custos, faça o seguinte:
+
.. Conceda permissões ao Amazon CloudWatch e ao AWS Compute Optimizer.
+
... Entre no AWS Management Console e abra o serviço IAM.
... Edite a política para a função do IAM. Copie e adicione as seguintes permissões do Amazon CloudWatch e do AWS Compute Optimizer.
+
[source, json]
----
{
"Version": "2012-10-17",
"Statement": [
  {
   "Effect": "Allow",
   "Action": "compute-optimizer:GetEnrollmentStatus",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "compute-optimizer:PutRecommendationPreferences",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "compute-optimizer:GetEffectiveRecommendationPreferences",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "compute-optimizer:GetEC2InstanceRecommendations",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "autoscaling:DescribeAutoScalingGroups",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "autoscaling:DescribeAutoScalingInstances",
   "Resource": "*"
  }
]
}
----


.. Inclua a conta faturável da AWS no AWS Compute Optimizer.




Siga as etapas na guia para o tipo de armazenamento.

[role="tabbed-block"]
====
.Amazon Elastic Block Store (EBS)
--
.Passos
. Inicie sessão utilizando uma das link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiências de console"^].
. Selecione o menu image:workloads-menu-icon.png["O ícone do menu hambúrguer é usado para navegar até cargas de trabalho como armazenamento, EDA, IA, bancos de dados, VMware e administração."] Em seguida, selecione *Bancos de dados*.
. No menu Databases, selecione *Explorar economias*.
. Em Explorar economias, selecione a guia *SQL Server no Elastic Block Store (EBS)*.
+
Se o Workload Factory detectar hosts EBS, você será redirecionado para a guia Explorar economias.  Se o Workload Factory não detectar hosts EBS, você será redirecionado para a calculadora para<<Explore as poupanças através da personalização,explore as poupanças através da personalização>> .

. Em *Explorar economias*, selecione um ou mais hosts de banco de dados em execução no EBS e, em seguida, selecione *Explorar economias*.
. Se necessário, autentique o host do banco de dados com credenciais do SQL Server, credenciais do Windows ou adicionando permissões ausentes do SQL Server.
+
Se a página Explorar economias não carregar dados após a autenticação bem-sucedida, selecione a aba *Inventário* para recarregar os dados e, em seguida, selecione a aba *Explorar economias* novamente.

. Na calculadora de economia, opcionalmente, forneça os seguintes detalhes sobre clones e instantâneos no seu armazenamento EBS para uma estimativa de economia de custos mais precisa.
+
.. *Frequência de instantâneo*: Selecione uma frequência de instantâneo no menu.
.. *Frequência de atualização do clone*: Selecione a frequência de atualização dos clones no menu.
.. *Número de cópias clonadas*: Insira o número de cópias clonadas na configuração do EBS.
.. *Taxa de mudança mensal*: Insira a porcentagem que os dados clonados e instantâneos mudam em média por mês.
.. *Adicionar hosts*: Opcionalmente, selecione até cinco hosts EBS detectados para incluir no cálculo da economia.
+
O Workload Factory consolida vários hosts do SQL Server em uma única recomendação de configuração do FSx for ONTAP para otimizar a economia de custos, a menos que os hosts EBS selecionados excedam os limites de throughput, capacidade ou IOPS para um único sistema de arquivos FSx for ONTAP .





--
.Amazon FSX para Windows File Server
--
.Passos
. Inicie sessão utilizando uma das link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiências de console"^].
. Selecione o menu image:workloads-menu-icon.png["O ícone do menu hambúrguer é usado para navegar até cargas de trabalho como armazenamento, EDA, IA, bancos de dados, VMware e administração."] Em seguida, selecione *Bancos de dados*.
. No menu Databases, selecione *Explorar economias*.
. Em Explorar economias, selecione a guia *SQL Server on FSx for Windows*.
+
Se o Workload Factory detectar hosts FSx para Windows, você será redirecionado para a guia Explorar economias.  Se o Workload Factory não detectar hosts FSx para Windows, você será redirecionado para a calculadora para<<Explore as poupanças através da personalização,explore as poupanças através da personalização>> .

. Na guia Explorar economias, selecione *Explorar economias* do host do banco de dados usando o FSx para armazenamento do Windows File Server.
. Se necessário, autentique o host do banco de dados com credenciais do SQL Server, credenciais do Windows ou adicionando permissões ausentes do SQL Server.
+
Se a página Explorar economias não carregar dados após a autenticação bem-sucedida, selecione a aba *Inventário* para recarregar os dados e, em seguida, selecione a aba *Explorar economias* novamente.

. Na calculadora de economia, opcionalmente, forneça os seguintes detalhes sobre clones (cópias de sombra) e snapshots no seu armazenamento no FSX for Windows para uma estimativa de economia de custos mais precisa.
+
.. *Frequência de instantâneo*: Selecione uma frequência de instantâneo no menu.
+
Se as cópias de sombra do FSX for Windows forem detetadas, o valor padrão é *Diário*. Se as cópias sombra não forem detetadas, o valor padrão será *Nenhuma frequência de instantâneos*.

.. *Frequência de atualização do clone*: Selecione a frequência de atualização dos clones no menu.
.. *Número de cópias clonadas*: Insira o número de cópias clonadas na configuração FSX for Windows.
.. *Taxa de mudança mensal*: Insira a porcentagem que os dados clonados e instantâneos mudam em média por mês.




--
.Microsoft SQL Server no local
--
.Passos
. Inicie sessão utilizando uma das link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiências de console"^].
. Selecione o menu image:workloads-menu-icon.png["O ícone do menu hambúrguer é usado para navegar até cargas de trabalho como armazenamento, EDA, IA, bancos de dados, VMware e administração."] Em seguida, selecione *Bancos de dados*.
. No menu Databases, selecione *Explorar economias*.
. Em Explorar economias, selecione a guia *SQL Server on-premises*.
. Na guia local do SQL Server, baixe o script para avaliar seus ambientes SQL Server locais.
+
.. Baixe o script de avaliação. O script é uma ferramenta de coleta de dados baseada em PowerShell. Ele coleta e carrega dados de configuração e desempenho do SQL Server para o Workload Factory. O consultor de migração avalia os dados e planeja a implantação do FSx para ONTAP no seu ambiente SQL Server.
+
image:screenshot-download-script-on-premises.png["Uma captura de tela da guia local do SQL Server mostra a opção de baixar o script de avaliação."]

.. Execute o script no host do SQL Server.
.. Carregue a saída do script na guia local do SQL Server no Workload Factory.
+
image:screenshot-upload-script-on-premises.png["Uma captura de tela da guia local do SQL Server mostra a opção de carregar o script de avaliação."]



. Na guia SQL Server no local, selecione até cinco hosts de banco de dados e, em seguida, selecione *Explorar economias* para executar uma análise de custos do(s) host(s) SQL Server no local em comparação com FSx for ONTAP.
. Na calculadora de economia, selecione a região para o host local.
. Opcionalmente, forneça os detalhes a seguir sobre clones (cópias de sombra) e snapshots em seu ambiente de banco de dados local para obter uma estimativa de economia de custo mais precisa.
+
.. *Frequência de instantâneo*: Selecione uma frequência de instantâneo no menu.
+
Se as cópias de sombra do FSX for Windows forem detetadas, o valor padrão é *Diário*. Se as cópias sombra não forem detetadas, o valor padrão será *Nenhuma frequência de instantâneos*.

.. *Frequência de atualização do clone*: Selecione a frequência de atualização dos clones no menu.
.. *Número de cópias clonadas*: Insira o número de cópias clonadas na configuração local.
.. *Taxa de mudança mensal*: Insira a porcentagem que os dados clonados e instantâneos mudam em média por mês.


. Para obter resultados mais precisos, atualize as informações do Compute e os detalhes de armazenamento e desempenho.
+
O Workload Factory consolida vários hosts SQL Server no local em uma única recomendação de configuração do FSx for ONTAP para otimizar a economia de custos, a menos que os hosts no local selecionados excedam os limites de throughput, capacidade ou IOPS para um único sistema de arquivos FSx for ONTAP.



--
====
Depois de fornecer detalhes sobre a configuração do host do banco de dados, revise os cálculos e recomendações fornecidos na página.

Além disso, role para baixo até a parte inferior da página para exibir o relatório selecionando uma das seguintes opções:

* * Exportar PDF*
* *Enviar por e-mail*
* *Veja os cálculos*


Para mudar para o FSX for ONTAP, siga as instruções <<Implante o Microsoft SQL Server no AWS EC2 usando o FSX for ONTAP,Implante o Microsoft SQL Server no AQS EC2 usando o FSX para sistemas de arquivos ONTAP>>para .

.Remoção de host no local
Depois de explorar as economias de um host local do Microsoft SQL Server, você tem a opção de remover o registro do host local do Workload Factory.  Selecione o menu de ação do host local do Microsoft SQL Server e selecione *Excluir*.



== Implante o Microsoft SQL Server no AWS EC2 usando o FSX for ONTAP

Se você quiser mudar para o FSX for ONTAP para obter economia de custos, clique em *criar* para criar a(s) configuração(ões) recomendada(s) diretamente do assistente criar novo servidor Microsoft SQL ou clique em *Salvar* para salvar a(s) configuração(s) recomendada(s) para mais tarde.


NOTE: O Workload Factory não oferece suporte para salvar ou criar vários FSx para sistemas de arquivos ONTAP .

.Métodos de implantação
Com as permissões de criação de host de banco de dados, você pode implantar o novo servidor Microsoft SQL no AWS EC2 usando o FSx para ONTAP diretamente do Workload Factory. Você também pode copiar o conteúdo da janela do Codebox e implantar a configuração recomendada usando um dos métodos do Codebox.

Sem permissões, você pode copiar o conteúdo da janela do Codebox e implantar a configuração recomendada usando um dos métodos do Codebox.

.Informações relacionadas
link:https://docs.netapp.com/us-en/workload-setup-admin/permissions-reference.html["Referência de permissões do Workload Factory"^]
