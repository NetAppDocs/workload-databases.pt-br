---
sidebar: sidebar 
permalink: register-instance.html 
keywords: manage, register, Microsoft SQL Server instance, Oracle database, manage database, manage instance 
summary: Registre recursos para que você possa monitorar o status dos recursos, a utilização dos recursos, a proteção e o desempenho do armazenamento no NetApp Workload Factory for Databases. 
---
= Registrar recursos no NetApp Workload Factory para bancos de dados
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
Registre instâncias para Microsoft SQL Server e bancos de dados para Oracle para que você possa monitorar o status da instância e do banco de dados, a utilização de recursos, a proteção e o desempenho do armazenamento no NetApp Workload Factory for Databases.

Você só pode registrar seus recursos se eles forem executados no armazenamento do sistema de arquivos FSx for ONTAP.



== Sobre a tarefa

O registro de uma instância (SQL Server) ou banco de dados (Oracle) envolve três etapas: autenticação da instância ou banco de dados, autenticação do FSx for ONTAP e preparação. A preparação consiste em garantir que todos os módulos da AWS, NetApp e PowerShell estejam instalados na instância ou no banco de dados, e que os requisitos mínimos para recursos do Workload Factory for Databases, como link:analyze-error-logs.html["análise de log de erro"] ou link:optimize-configurations.html["revisão well-architected"], sejam atendidos.

O Workload Factory oferece suporte apenas ao registro e gerenciamento de instâncias do Microsoft SQL Server e do banco de dados Oracle.  Dependendo das credenciais da conta da AWS selecionadas no Workload Factory, os hosts PostgreSQL podem aparecer no Inventário.  Atualmente, o Workload Factory oferece suporte a instâncias não registradas do PostgreSQL executadas apenas em sistemas operacionais Amazon Linux.



== Antes de começar

O host da instância ou do banco de dados deve constar no Inventário. Para que os anfitriões apareçam no inventário, você deve link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["Conceder permissões de _visualização, planejamento e análise_"^] na sua conta da AWS.



=== Registrando uma instância em uma rede privada

Para registrar uma instância (SQL Server) ou banco de dados (Oracle) em uma rede privada sem conectividade externa, os seguintes endpoints precisam estar disponíveis na VPC com associação às sub-redes onde os servidores SQL estão presentes.  Certifique-se de que os pontos de extremidade da interface permitam a porta 443 no Grupo de Segurança anexado.

* `S3 Gateway/endpoint`
* `ssm`
* `ssmmessages`
* `fsx`
+
Se você usar um servidor proxy para todas as conexões de saída de instâncias EC2, deverá permitir o acesso aos seguintes domínios para que as operações de gerenciamento funcionem:

* ``.microsoft.com``(Servidor SQL)
* ``.powershellgallery.com``(Servidor SQL)
* ``.aws.amazon.com``
* ``.amazonaws.com``




== Registre uma instância do Microsoft SQL Server

O registro de uma instância possui três etapas: autenticação da instância, autenticação do FSx for ONTAP e preparação para concluir os pré-requisitos ausentes. Você pode registrar uma ou várias instâncias.

O NetApp Workload Factory oferece suporte ao registro para Failover Cluster Instance (FCI) e implantação Standalone para Microsoft SQL Server.

.Passos
. Inicie sessão utilizando uma das link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiências de console"^].
. Selecione o menu image:workloads-menu-icon.png["O ícone do menu hambúrguer é usado para navegar até cargas de trabalho como armazenamento, EDA, IA, bancos de dados, VMware e administração."] Em seguida, selecione *Bancos de dados*.
. No menu Bancos de dados, selecione *Inventário*.
. No Inventário, selecione *Microsoft SQL Server* como o tipo de mecanismo.
. Selecione a aba *Instâncias*.
. Selecione para registrar uma única instância ou múltiplas instâncias.
. Para autenticar instâncias (etapa 1), faça o seguinte e selecione *Next*:
+
.. Selecione *Usar as mesmas credenciais para todas as instâncias* ou *Gerenciar credenciais manualmente*.
.. Autentique Microsoft SQL Server e Windows fornecendo informações de nome de usuário e senha.
+
Se as instâncias forem autenticadas, selecione *Next*.



. Para autenticar o FSx para ONTAP (etapa 2), faça o seguinte:
+
.. Selecione *Usar as mesmas credenciais para todos os recursos* ou *gerenciar credenciais manualmente*.
.. Insira o nome de usuário e a senha do sistema de arquivos FSx for ONTAP e, em seguida, selecione *Avançar*.
+
Se o sistema de arquivos FSx for ONTAP estiver autenticado, selecione *Avançar*.



. Para preparar (passo 3), certifique-se de que a(s) instância(s) atendam aos requisitos mínimos.
+
Para atender aos requisitos mínimos, a instância deve ter os módulos AWS e NetApp PowerShell e os módulos PowerShell 7 instalados, e você deve concluir os pré-requisitos para pelo menos um dos recursos listados em Verificação de pré-requisitos.

+
.. Revise os pré-requisitos na *visualização de verificação de pré-requisitos*.
+
Você deve concluir todos os pré-requisitos para uma única funcionalidade, como *Revisar problemas e recomendações bem arquitetados*, para registrar a instância.

.. Selecione *Detalhes da configuração* para cada funcionalidade para saber mais sobre os pré-requisitos da funcionalidade e siga as instruções na tela para concluir quaisquer pré-requisitos que estejam faltando para uma funcionalidade.
+
Para ter o Workload Factory link:optimize-configurations.html["revisar e corrigir problemas bem arquitetados"] para suas instâncias, conclua todos os pré-requisitos listados em *Revisar problemas e recomendações de arquitetura adequada* e *Corrigir problemas de arquitetura adequada*.



. Quando os pré-requisitos estiverem completos, *Register* a(s) instância(s).


.Resultado
A inscrição da instância é iniciada. Selecione a guia *Monitoramento de tarefas* para acompanhar o progresso.



== Registrar um banco de dados Oracle

O registro de uma instância possui três etapas: autenticação do banco de dados, autenticação do FSx for ONTAP e preparação para concluir os pré-requisitos ausentes. Você pode registrar um ou vários bancos de dados.

.Passos
. Inicie sessão utilizando uma das link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiências de console"^].
. Selecione o menu image:workloads-menu-icon.png["O ícone do menu hambúrguer é usado para navegar até cargas de trabalho como armazenamento, EDA, IA, bancos de dados, VMware e administração."] Em seguida, selecione *Bancos de dados*.
. No menu Bancos de dados, selecione *Inventário*.
. No Inventory, selecione *Oracle* como o tipo de mecanismo.
. Selecione a aba *Bancos de dados*.
. Selecione para registrar um único banco de dados ou vários bancos de dados.
. Para autenticar bancos de dados (etapa 1), faça o seguinte:
+
** Selecione *Usar as mesmas credenciais para todas as instâncias* ou *Gerenciar credenciais manualmente*.
** Autentique o usuário do Oracle e o usuário do Automatic Storage Management (ASM) grid (se aplicável) fornecendo o nome de usuário e a senha.
+
Se os bancos de dados estiverem autenticados, selecione *Next*.



. Para autenticar o FSx for ONTAP (etapa 2), faça o seguinte e selecione *Avançar*:
+
** Selecione *Usar as mesmas credenciais para todos os recursos* ou *gerenciar credenciais manualmente*.
** Insira o nome de usuário e a senha do sistema de arquivos FSx for ONTAP.
+
Se o sistema de arquivos FSx for ONTAP estiver autenticado, selecione *Avançar*.



. Para preparar (etapa 3), certifique-se de que o(s) banco(s) de dados atendam aos pré-requisitos necessários. Se todos os módulos necessários estiverem instalados e os pré-requisitos forem atendidos, selecione *Next* para registrar o banco de dados. Caso contrário, siga estas etapas.
+
.. Revise os pré-requisitos na *visualização de verificação de pré-requisitos*.
+
Você deve concluir todos os pré-requisitos para uma única funcionalidade, como *Revisar problemas e recomendações bem arquitetados*, para registrar o banco de dados.

.. Selecione *Detalhes da configuração* para cada funcionalidade para saber mais sobre os pré-requisitos da funcionalidade e siga as instruções na tela para concluir quaisquer pré-requisitos que estejam faltando para uma funcionalidade.
+
Para ter Workload Factory link:optimize-configurations.html["revisar e corrigir problemas bem arquitetados"] para seus bancos de dados, conclua todos os pré-requisitos listados em *Review well-architected issues and recommendations* e *Fix well-architected issues* capabilities.



. Quando os pré-requisitos estiverem completos, *registre* o(s) banco(s) de dados.


.Resultado
O registro no banco de dados foi iniciado. Selecione a guia *Monitoramento de tarefas* para acompanhar o progresso.

.O que vem a seguir
Após o registro do recurso, você pode executar as seguintes tarefas.

* Ver bancos de dados do inventário
* link:create-database.html["Crie um banco de dados"]
* link:create-sandbox-clone.html["Criar um clone de banco de dados (sandbox)"]
* link:optimize-configurations.html["Implementar configurações de banco de dados bem arquitetadas"]

